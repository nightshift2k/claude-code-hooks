{
  "hooks": {
    "SessionStart": [
      {
        "matcher": "startup|resume",
        "hooks": [
          {
            "type": "command",
            "command": "~/.claude/hooks/environment-awareness.py"
          },
          {
            "type": "command",
            // large-file-awareness: Scans project for large files at session start
            // Config: LARGE_FILE_THRESHOLD env var or largeFileThreshold setting (default: 500 lines)
            "command": "~/.claude/hooks/large-file-awareness.py"
          },
          {
            "type": "command",
            "command": "~/.claude/hooks/rules-reminder.py"
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "~/.claude/hooks/prompt-flag-appender.py"
          },
          {
            "type": "command",
            // serena-awareness: Detects Serena-configured projects and code projects
            // Suggests activate_project for configured projects, onboarding for code projects
            // Only outputs on first prompt in session (uses session markers)
            "command": "~/.claude/hooks/serena_awareness.py"
          },
          {
            "type": "command",
            "command": "~/.claude/hooks/rules-reminder.py"
          },
          {
            "type": "command",
            "command": "~/.claude/hooks/release-reminder.py"
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "~/.claude/hooks/git-commit-message-filter.py"
          },
          {
            "type": "command",
            "command": "~/.claude/hooks/python-uv-enforcer.py"
          },
          {
            "type": "command",
            "command": "~/.claude/hooks/git-safety-check.py"
          },
          {
            "type": "command",
            "command": "~/.claude/hooks/doc-update-check.py"
          },
          {
            "type": "command",
            "command": "~/.claude/hooks/changelog-reminder.py"
          },
          {
            "type": "command",
            "command": "~/.claude/hooks/release-check.py"
          },
          {
            "type": "command",
            "command": "~/.claude/hooks/git-branch-protection.py"
          }
        ]
      },
      {
        "matcher": "^(Edit|Write)$|mcp__morphllm.*|mcp__serena.*(replace|insert).*",
        "hooks": [
          {
            "type": "command",
            "command": "~/.claude/hooks/git-branch-protection.py"
          }
        ]
      },
      {
        "matcher": "^(Read)$",
        "hooks": [
          {
            "type": "command",
            // large-file-guard: Blocks full reads of large files
            // Config: LARGE_FILE_THRESHOLD env var or ~/.claude/hook-large-file-guard-config (default: 500 lines)
            // Bypass: ALLOW_LARGE_READ=1 env var
            "command": "~/.claude/hooks/large-file-guard.py"
          }
        ]
      }
    ]
  }
}
